(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(t,e,a){"use strict";var n=a(3),i=a(4),o=a(9),r=a(8),c=a(10),s=a(0),u=a.n(s),l=a(32),d=a.n(l);e.a=function(){return function(t){var e,a;return a=e=function(e){function a(){return Object(n.a)(this,a),Object(o.a)(this,Object(r.a)(a).apply(this,arguments))}return Object(c.a)(a,e),Object(i.a)(a,[{key:"render",value:function(){return u.a.createElement(d.a,null,u.a.createElement(t,this.props))}}]),a}(s.PureComponent),e.displayName="withErrorBoundary(".concat(function(t){return t.displayName||t.name||"Component"}(t),")"),a}}},21:function(t,e,a){"use strict";var n=a(3),i=a(4),o=a(9),r=a(8),c=a(10),s=a(0),u=a.n(s),l=a(13),d=a(16);function h(){var t=Object(d.a)(["\n  position: relative;\n  width: 100vw;\n  height: 100vh;\n  overflow: auto;\n"]);return h=function(){return t},t}var f,b=a(17).a.div(h()),m=Object(l.a)()(f=function(t){function e(){return Object(n.a)(this,e),Object(o.a)(this,Object(r.a)(e).apply(this,arguments))}return Object(c.a)(e,t),Object(i.a)(e,[{key:"render",value:function(){return u.a.createElement(b,null,this.props.children)}}]),e}(s.PureComponent))||f;e.a=m},40:function(t,e,a){t.exports=a(52)},45:function(t,e,a){},51:function(t,e,a){"use strict";a.r(e);var n=a(16),i=a(0),o=a.n(i),r=a(17),c=a(54),s=a(21);function u(){var t=Object(n.a)(["text-align: center"]);return u=function(){return t},t}var l=r.a.p(u());e.default=function(){return o.a.createElement(s.a,null,o.a.createElement(l,null,"404 PAGE NOT FOUND"),o.a.createElement(l,null,o.a.createElement(c.a,{to:"/"},"Home")))}},52:function(t,e,a){"use strict";a.r(e);var n=a(0),i=a.n(n),o=a(11),r=a.n(o),c=(a(45),a(56)),s=a(58),u=a(57),l=a(20),d=a(22),h=a(3),f=a(4),b=a(2),m=function t(e){var a=this;Object(h.a)(this,t),this.histories=[],this.routing=e,Object(b.autorun)(function(){var t=e.location,n={hash:t.hash,key:t.key,pathname:t.pathname,search:t.search,state:t.state,time:new Date};a.histories.length>=100&&a.histories.pop(),a.histories.unshift(n)})},p=new(function(){function t(){Object(h.a)(this,t)}return Object(f.a)(t,[{key:"setRouting",value:function(t){this.router=new m(t)}}]),t}()),v=Object(l.a)(),y=new d.RouterStore,g=Object(d.syncHistoryWithStore)(v,y);p.setRouting(y);var O=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement(c.a,{history:g},i.a.createElement(s.a,null,i.a.createElement(u.a,{path:"/",exact:!0,component:a(53).default}),i.a.createElement(u.a,{component:a(51).default}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));r.a.render(i.a.createElement(O,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})},53:function(t,e,a){"use strict";a.r(e);var n,i,o=a(3),r=a(4),c=a(9),s=a(8),u=a(10),l=a(0),d=a.n(l),h=a(13),f=a(21),b=a(12),m=a(18),p=a(14),v=a(19),y=(a(30),a(2)),g=a(35),O=a(36),j=a.n(O);function B(){return{openList:new Set,closeList:new Set,grid:[],nodes:{},A:"",B:"",barriers:new Set,path:new Set}}var w,k,E,_,I=(n=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:16,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:9;Object(o.a)(this,t),Object(m.a)(this,"data",i,this),this.reset(e,a)}return Object(r.a)(t,null,[{key:"getIdByPosition",value:function(t,e){return"(".concat(t,",").concat(e,")")}}]),Object(r.a)(t,[{key:"reset",value:function(e,a){var n=this;this.data=B();for(var i=function(a){n.data.grid.push(Array.from({length:e}).map(function(e,i){var o=t.getIdByPosition(i,a),r={id:o,x:i,y:a,f:0,g:0,h:0,parentId:""};return n.data.nodes[o]=r,o}))},o=0;o<a;o+=1)i(o)}},{key:"setA",value:function(t){this.data.A=t}},{key:"setB",value:function(t){this.data.B=t}},{key:"setBarrier",value:function(t){this.data.barriers.has(t)?this.data.barriers.delete(t):this.data.barriers.add(t)}},{key:"start",value:function(){this.data.openList.add(this.data.A),this.next()}},{key:"next",value:function(){var t=this;if(!this.data.openList.has(this.data.B)&&0!==this.data.openList.size){for(var e=Array.from(this.data.openList).map(function(e){return t.getNodeById(e)}).sort(function(t,e){return t.f-e.f})[0],a=e.id,n=new Set,i=e;i.parentId;)n.add(i.id),i=this.getNodeById(i.parentId);this.data.path=n,this.data.openList.delete(a),this.data.closeList.add(a),this.getNodesAround(a).forEach(function(e){if(!t.data.barriers.has(e.id)&&!t.data.closeList.has(e.id)){var n=t.getCosts(a,e.id);t.data.openList.has(e.id)?n.g<e.g&&(e.parentId=a,Object.assign(e,n)):(t.data.openList.add(e.id),e.parentId=a,Object.assign(e,n))}}),setTimeout(function(){t.next()},200)}}},{key:"getCosts",value:function(t,e){var a=this.getNodeById(t),n=this.getNodeById(e),i=this.getNodeById(this.data.B),o=(Math.abs(a.x-n.x)+Math.abs(a.y-n.y)>1?14:10)+a.g,r=10*(Math.abs(i.x-n.x)+Math.abs(i.y-n.y));return{g:o,h:r,f:o+r}}},{key:"getNodeById",value:function(t){return this.data.nodes[t]}},{key:"getNodesAround",value:function(e){var a=this,n=this.getNodeById(e),i=n.x,o=n.y;return[t.getIdByPosition(i-1,o-1),t.getIdByPosition(i,o-1),t.getIdByPosition(i+1,o-1),t.getIdByPosition(i-1,o),t.getIdByPosition(i+1,o),t.getIdByPosition(i-1,o+1),t.getIdByPosition(i,o+1),t.getIdByPosition(i+1,o+1)].map(function(t){return a.getNodeById(t)}).filter(function(t){return!!t})}}]),t}(),i=Object(v.a)(n.prototype,"data",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return B()}}),n),N=a(6),A=a.n(N),C=16,L=9,P=Object(h.a)()(w=Object(g.a)((k=function(t){function e(){var t,a;Object(o.a)(this,e);for(var n=arguments.length,i=new Array(n),r=0;r<n;r++)i[r]=arguments[r];return(a=Object(c.a)(this,(t=Object(s.a)(e)).call.apply(t,[this].concat(i)))).model=new I(C,L),Object(m.a)(a,"action",E,Object(p.a)(Object(p.a)(a))),a.onActionChange=function(t){a.action=t.target.value},a.onBlockClick=function(t){"a"===a.action?(a.model.setA(t),a.action="b"):"b"===a.action?(a.model.setB(t),a.action="c"):"c"===a.action&&a.model.setBarrier(t)},a}return Object(u.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){var t=this,e=this.model.data,a=e.nodes,n=e.grid,i=e.A,o=e.B,r=e.barriers,c=e.openList,s=e.closeList,u=e.path;return d.a.createElement("div",{className:A.a.game},d.a.createElement("p",{className:A.a.action},"\u64cd\u4f5c\uff1a",d.a.createElement("select",{onChange:this.onActionChange,value:this.action},d.a.createElement("option",{value:"a"},"\u8bbe\u7f6eA\u70b9"),d.a.createElement("option",{value:"b"},"\u8bbe\u7f6eB\u70b9"),d.a.createElement("option",{value:"c"},"\u8bbe\u7f6e\u5899\u58c1")),d.a.createElement("button",{onClick:function(){t.model.start()}},"\u5bfb\u8def"),d.a.createElement("button",{onClick:function(){t.action="a",t.model.reset(C,L)}},"\u91cd\u7f6e")),n.map(function(e){return d.a.createElement("div",{className:A.a.row},e.map(function(e){var n;return d.a.createElement("div",{title:JSON.stringify(a[e],null,2),key:e,onClick:function(){t.onBlockClick(e)},className:j()(A.a.block,(n={},Object(b.a)(n,A.a.A,i===e),Object(b.a)(n,A.a.B,o===e),Object(b.a)(n,A.a.barrier,r.has(e)),Object(b.a)(n,A.a.open,c.has(e)),Object(b.a)(n,A.a.close,s.has(e)),Object(b.a)(n,A.a.path,u.has(e)),n))},e)}))}))}}]),e}(l.Component),E=Object(v.a)(k.prototype,"action",[y.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"a"}}),w=k))||w)||w,x=Object(h.a)()(_=function(t){function e(){return Object(o.a)(this,e),Object(c.a)(this,Object(s.a)(e).apply(this,arguments))}return Object(u.a)(e,t),Object(r.a)(e,[{key:"render",value:function(){return d.a.createElement(f.a,null,d.a.createElement(P,null))}}]),e}(l.Component))||_;e.default=x},6:function(t,e,a){t.exports={game:"demo_game__1Oljw",action:"demo_action__aiRnw",row:"demo_row__3KCZZ",block:"demo_block__NUbPN",A:"demo_A__2yh9I",B:"demo_B__2hIUS",barrier:"demo_barrier__1v7Gl",open:"demo_open__Eelo2",close:"demo_close__1LMmZ",path:"demo_path__256-w"}}},[[40,1,2]]]);
//# sourceMappingURL=main.4364287c.chunk.js.map