{"version":3,"sources":["component/lib/WithErrorBoundary/index.jsx","component/lib/WarpperFullScreen/index.jsx","component/layout/BasicLayout.jsx","page/404.jsx","store/router.js","store/index.js","App.jsx","serviceWorker.js","index.js","page/demo/model.js","page/demo/index.js","page/index.jsx","page/demo/index.module.scss"],"names":["withErrorBoundary","WrappedComponent","_class","_temp","_PureComponent","Object","D_projects_AStar_demo_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__","this","D_projects_AStar_demo_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__","D_projects_AStar_demo_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__","apply","arguments","D_projects_AStar_demo_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_4__","D_projects_AStar_demo_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__","key","value","react__WEBPACK_IMPORTED_MODULE_5___default","a","createElement","react_error_boundary__WEBPACK_IMPORTED_MODULE_6___default","props","PureComponent","displayName","concat","name","getDisplayName","WarpperFullScreen","styled","div","_templateObject","BasicLayout","react_default","lib_WarpperFullScreen","children","Box","p","NotFound","react__WEBPACK_IMPORTED_MODULE_1___default","_component_layout_BasicLayout__WEBPACK_IMPORTED_MODULE_4__","react_router_dom__WEBPACK_IMPORTED_MODULE_3__","to","Router","routing","_this","classCallCheck","histories","autorun","_routing$location","location","history","hash","pathname","search","state","time","Date","length","pop","unshift","storeRoot","router","browserHistory","createBrowserHistory","routingStore","RouterStore","syncHistoryWithStore","setRouting","App","Fragment","es_Router","Switch","Route","path","exact","component","require","default","Boolean","window","hostname","match","ReactDOM","render","src_App","document","getElementById","navigator","serviceWorker","ready","then","registration","unregister","getInitData","openList","Set","closeList","grid","nodes","A","B","barriers","Model","x","undefined","y","initializerDefineProperty","_descriptor","reset","data","_loop","yy","push","Array","from","map","t","i","id","getIdByPosition","node","f","g","h","parentId","has","delete","add","next","_this2","size","current","getNodeById","sort","b","currentId","currentPathNode","getNodesAround","forEach","costs","getCosts","assign","setTimeout","fromId","toId","Math","abs","_this3","filter","observable","SCALE_X","SCALE_Y","Demo","observer","model","onActionChange","e","action","target","onBlockClick","setA","setB","setBarrier","_this$model$data","className","styles","game","onChange","onClick","start","row","_classNames","title","JSON","stringify","classNames","block","defineProperty","barrier","open","close","Component","Index","demo","module","exports"],"mappings":"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","file":"static/js/main.00489371.chunk.js","sourcesContent":["import React, { PureComponent } from 'react';\nimport ErrorBoundary from 'react-error-boundary';\n\nfunction getDisplayName(WrappedComponent) {\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}\n\nconst withErrorBoundary = () => (WrappedComponent) => {\n  return class extends PureComponent {\n    static displayName =\n      `withErrorBoundary(${getDisplayName(WrappedComponent)})`;\n\n    render() {\n      return (\n        <ErrorBoundary>\n          <WrappedComponent {...this.props} />\n        </ErrorBoundary>\n      );\n    }\n  };\n};\n\nexport default withErrorBoundary;\n","import styled from 'styled-components';\n\nconst WarpperFullScreen = styled.div`\n  position: relative;\n  width: 100vw;\n  height: 100vh;\n  overflow: auto;\n`;\n\nexport default WarpperFullScreen;\n","import React, { PureComponent } from 'react';\nimport PropTypes from 'prop-types';\nimport withErrorBoundary from '../lib/WithErrorBoundary';\nimport WarpperFullScreen from '../lib/WarpperFullScreen';\n\n@withErrorBoundary()\nclass BasicLayout extends PureComponent {\n  static propTypes = {\n    children: PropTypes.node.isRequired,\n  };\n\n  render() {\n    return (\n      <WarpperFullScreen>\n        {this.props.children}\n      </WarpperFullScreen>\n    );\n  }\n}\n\nexport default BasicLayout;\n","import React from 'react';\nimport styled from 'styled-components';\nimport { Link } from 'react-router-dom';\nimport BasicLayout from '../component/layout/BasicLayout';\n\nconst Box = styled.p`text-align: center`;\n\nconst NotFound = () => (\n  <BasicLayout>\n    <Box>404 PAGE NOT FOUND</Box>\n    <Box><Link to=\"/\">Home</Link></Box>\n  </BasicLayout>\n);\n\nexport default NotFound;\n","import { autorun } from 'mobx';\n\nclass Router {\n  /**\n   * routing\n   * @type {MobxReactRouter.RouterStore}\n   */\n  routing;\n\n  histories = [];\n\n  constructor(routing) {\n    this.routing = routing;\n    autorun(() => {\n      const { location: { hash, key, pathname, search, state } } = routing;\n      const history = {\n        hash,\n        key,\n        pathname,\n        search,\n        state,\n        time: new Date(),\n      };\n      if (this.histories.length >= 100) {\n        this.histories.pop();\n      }\n      this.histories.unshift(history);\n    });\n  }\n}\nexport default Router;\n","import Router from './router';\n\nclass StoreRoot {\n  setRouting(routing) {\n    this.router = new Router(routing);\n  }\n}\nconst storeRoot = new StoreRoot();\nexport default storeRoot;\n","import React from 'react';\nimport { Router, Route, Switch } from 'react-router-dom';\nimport { createBrowserHistory } from 'history';\nimport { RouterStore, syncHistoryWithStore } from 'mobx-react-router';\nimport storeRoot from './store';\n\nconst browserHistory = createBrowserHistory();\nconst routingStore = new RouterStore();\nconst history = syncHistoryWithStore(browserHistory, routingStore);\nstoreRoot.setRouting(routingStore);\n\nconst App = () => {\n  return (\n    <React.Fragment>\n      <Router history={history}>\n        <Switch>\n          <Route path=\"/\" exact component={require('./page/index').default} />\n          <Route component={require('./page/404').default} />\n        </Switch>\n      </Router>\n    </React.Fragment>\n  );\n};\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then((registration) => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch((error) => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then((response) => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then((registration) => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost.\n        // Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n            'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then((registration) => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.less';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.unregister();\n","import { observable } from 'mobx';\n\nfunction getInitData() {\n  return {\n    openList: new Set(),\n    closeList: new Set(),\n    grid: [],\n    nodes: {},\n    A: '',\n    B: '',\n    barriers: new Set(),\n    path: new Set(),\n  };\n}\n\nclass Model {\n  static getIdByPosition(x, y) {\n    return `(${x},${y})`;\n  }\n\n  @observable data = getInitData();\n\n  constructor(x = 16, y = 9) {\n    this.reset(x, y);\n  }\n\n  reset(x, y) {\n    this.data = getInitData();\n    for (let yy = 0; yy < y; yy += 1) {\n      this.data.grid.push(Array.from({ length: x }).map((t, i) => {\n        const id = Model.getIdByPosition(i, yy);\n        const node = {\n          id,\n          x: i,\n          y: yy,\n          f: 0,\n          g: 0,\n          h: 0,\n          parentId: '',\n        };\n        this.data.nodes[id] = node;\n        return id;\n      }));\n    }\n  };\n\n  setA(id) {\n    this.data.A = id;\n  }\n\n  setB(id) {\n    this.data.B = id;\n  }\n\n  setBarrier(id) {\n    if (this.data.barriers.has(id)) {\n      this.data.barriers.delete(id);\n    } else {\n      this.data.barriers.add(id);\n    }\n  }\n\n  start() {\n    // 把起点加入 open list\n    this.data.openList.add(this.data.A);\n    this.next();\n  }\n\n  next() {\n    // 把终点加入到了 open list 中，此时路径已经找到 或者 open list 是空的，此时没有路径。\n    if (this.data.openList.has(this.data.B) || this.data.openList.size === 0) {\n      return;\n    }\n\n    // 遍历 open list ，查找 F 值最小的节点，把它作为当前要处理的节点\n    const opensSorted = Array.from(this.data.openList).map(t => this.getNodeById(t)).sort((a, b) => a.f - b.f);\n    const current = opensSorted[0];\n    const currentId = current.id;\n\n    // 标亮当前路径\n    const path = new Set();\n    let currentPathNode = current;\n    while (currentPathNode.parentId) {\n      path.add(currentPathNode.id);\n      currentPathNode = this.getNodeById(currentPathNode.parentId);\n    }\n    this.data.path = path;\n\n    // 把这个节点移到 close list\n    this.data.openList.delete(currentId);\n    this.data.closeList.add(currentId);\n\n    // 对当前方格的 8 个相邻方格的每一个方格...\n    const nodesAround = this.getNodesAround(currentId);\n    nodesAround.forEach(t => {\n      if (this.data.barriers.has(t.id) || this.data.closeList.has(t.id) ) { return; }\n      const costs = this.getCosts(currentId, t.id);\n      if (this.data.openList.has(t.id)) {\n        // 如果它已经在 open list 中，检查这条路径 ( 即经由当前方格到达它那里 ) 是否更好，用 G 值作参考。\n        // 更小的 G 值表示这是更好的路径。如果是这样，把它的父亲设置为当前方格，并重新计算它的 G 和 F 值。\n        // 如果你的 open list 是按 F 值排序的话，改变后你可能需要重新排序。\n        if (costs.g < t.g) {\n          t.parentId = currentId;\n          Object.assign(t, costs);\n        }\n      } else {\n        // 如果它不在 open list 中，把它加入 open list ，并且把当前方格设置为它的父亲，记录该方格的 F ， G 和 H 值\n        this.data.openList.add(t.id);\n        t.parentId = currentId;\n        Object.assign(t, costs);\n      }\n    });\n    setTimeout(() => {\n      this.next();\n    }, 200);\n  }\n\n  getCosts(fromId, toId) {\n    const from = this.getNodeById(fromId);\n    const to = this.getNodeById(toId);\n    const b = this.getNodeById(this.data.B);\n    const dis = Math.abs(from.x - to.x) + Math.abs(from.y - to.y);\n    const g = (dis > 1 ? 14 : 10) + from.g;\n    const h = (Math.abs(b.x - to.x) + Math.abs(b.y - to.y)) * 10;\n    return {\n      g,\n      h,\n      f: g + h,\n    };\n  }\n\n  getNodeById(id) {\n    return this.data.nodes[id];\n  }\n\n  getNodesAround(id) {\n    const current = this.getNodeById(id);\n    const { x, y } = current;\n    const list = [\n      Model.getIdByPosition(x - 1, y - 1 ),\n      Model.getIdByPosition(x, y - 1),\n      Model.getIdByPosition(x + 1, y - 1),\n      Model.getIdByPosition(x - 1, y ),\n      Model.getIdByPosition(x + 1, y),\n      Model.getIdByPosition(x - 1, y + 1 ),\n      Model.getIdByPosition(x, y + 1),\n      Model.getIdByPosition(x + 1, y + 1),\n    ];\n    return list.map(t => this.getNodeById(t)).filter(t => !!t);\n  }\n}\n\nexport default Model;\n","import React, { Component } from 'react';\nimport { observable } from 'mobx';\nimport { observer } from 'mobx-react';\nimport classNames from 'classnames';\nimport withErrorBoundary from '../../component/lib/WithErrorBoundary';\nimport Model from './model';\nimport styles from './index.module.scss';\n\nconst SCALE_X = 16;\nconst SCALE_Y = 9;\n\n@withErrorBoundary()\n@observer\nclass Demo extends Component {\n  model = new Model(SCALE_X, SCALE_Y);\n\n  @observable action = 'a';\n\n  onActionChange = (e) => {\n    this.action = e.target.value;\n  };\n\n  onBlockClick = (id) => {\n    if (this.action === 'a') {\n      this.model.setA(id);\n      this.action = 'b';\n    } else if (this.action === 'b') {\n      this.model.setB(id);\n      this.action = 'c';\n    } else if (this.action === 'c') {\n      this.model.setBarrier(id);\n    }\n  };\n\n  render() {\n    const { nodes, grid, A, B, barriers, openList, closeList, path } = this.model.data;\n    return (\n      <div className={styles.game}>\n        <p className={styles.action}>\n          操作：\n          <select onChange={this.onActionChange} value={this.action}>\n            <option value=\"a\">设置A点</option>\n            <option value=\"b\">设置B点</option>\n            <option value=\"c\">设置墙壁</option>\n          </select>\n          <button onClick={() => { this.model.start(); }}>寻路</button>\n          <button onClick={() => { this.action = 'a'; this.model.reset(SCALE_X, SCALE_Y); }}>重置</button>\n        </p>\n        {\n          grid.map(row => (\n            <div className={styles.row}>\n              {\n                row.map((t) => (\n                  <div\n                    title={JSON.stringify(nodes[t], null, 2)}\n                    key={t}\n                    onClick={() => { this.onBlockClick(t); }}\n                    className={classNames(styles.block, {\n                      [styles.A]: A === t,\n                      [styles.B]: B === t,\n                      [styles.barrier]: barriers.has(t),\n                      [styles.open]: openList.has(t),\n                      [styles.close]: closeList.has(t),\n                      [styles.path]: path.has(t),\n                    })}>\n                    {t}\n                  </div>))\n              }\n            </div>\n          ))\n        }\n      </div>\n    );\n  }\n}\n\nexport default Demo;\n","import React, { Component } from 'react';\nimport withErrorBoundary from '../component/lib/WithErrorBoundary';\nimport BasicLayout from '../component/layout/BasicLayout';\nimport Demo from './demo';\n\n@withErrorBoundary()\nclass Index extends Component {\n  render() {\n    return (\n      <BasicLayout>\n        <Demo/>\n      </BasicLayout>\n    );\n  }\n}\n\nexport default Index;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"game\":\"demo_game__1Oljw\",\"action\":\"demo_action__aiRnw\",\"row\":\"demo_row__3KCZZ\",\"block\":\"demo_block__NUbPN\",\"A\":\"demo_A__2yh9I\",\"B\":\"demo_B__2hIUS\",\"barrier\":\"demo_barrier__1v7Gl\",\"open\":\"demo_open__Eelo2\",\"close\":\"demo_close__1LMmZ\",\"path\":\"demo_path__256-w\"};"],"sourceRoot":""}